# 设置安全选项
当前OU的主账户和管理员用户可以为用户登录EnOS设置密码策略、登录IP地址黑白名单、会话有效期。

## 任务描述

本文档介绍为用户登录配置安全设置的步骤，安全设置包括密码强度、登录IP黑白名单以及会话有效期。

## 开始前准备

- 拥有本OU主账户或者组织管理员权限，但不推荐使用主账户来进行除转移组织主账户外的其他操作。

## 配置本OU密码策略

你可以通过配置密码策略以实施对用户密码强度的要求。

### 操作步骤

1. 选择 **访问控制 > 安全设置**。
2. 选择 **编辑安全设置** ，在“密码策略”一栏，你可以为OU设置合适的密码策略
   EnOS支持以下密码策略：

   .. csv-table::
      :header: "策略强度", "要求"
      :widths: auto

      "中（默认）", "密码长度要求：8 位；
      - 至少一个英文大写字母
      - 至少一个小写字母
      - 至少一个数字
      - 启用密码过期(天)：密码有效期 180(含) 天
      - 防止密码重复使用：要记住的密码数 2 次"
      "强", "- 密码长度要求：12 位；
      - 至少一个英文大写字母
      - 至少一个小写字母
      - 至少一个数字
      - 启用密码过期(天)：密码有效期 90(含) 天
      - 防止密码重复使用：要记住的密码数 3 次"
      "极强", "- 密码长度要求：16 位；
      - 至少一个英文大写字母
      - 至少一个小写字母 
      - 至少一个数字
      - 至少一个特殊字符(支持 `!@#¥%&*()[]{}-_=|`)
      - 启用密码过期(天)：密码有效期 60(含) 天
      - 防止密码重复使用：要记住的密码数 5 次"

3. 点击 **保存** 完成密码策略的配置

### 结果

新用户注册账号时，需要符合本OU现存的密码策略；如果在旧密码策略已存在的情况下，修改了密码策略，对于符合旧密码策略的用户，有如下结果：

- 策略强度升级：策略保存成功后，要求当前组织下所有用户在下次登录，检查密码过期时间，对于时间在3天内的用户，统一通过短信/邮件通知用户，要求用户按照新的密码策略修改密码，新的密码周期从用户重置密码的时间开始计算
- 策略强度降级：策略保存成功后，原有有效期计算继续累积到原密码到期，在用户修改密码时提醒用户执行新的密码策略强度

.. note:: 请勿频繁变更组织的密码策略。

## 配置登陆IP访问控制

你可以通过登录IP配置实施对指定IP或IP网段的黑名单或白名单控制。

### 操作步骤

1. 选择 **访问控制 > 安全设置**，点击 **编辑安全设置**
   
2. 在 **登录IP设置** 下选择限制IP的方式：
   - 白名单：只有来自该IP或IP段内的用户才能登录EnOS控制台，白名单为空则默认允许整个网络
   - 黑名单：禁止该IP或IP段内的用户登录EnOS控制台
  
3. 填写被限制的IP或IP地址，IP段配置支持CIDR模式

4. 点击 **保存**，IP策略将及时生效

## 结果

- 在白名单模式下，只有白名单上的IP或IP段内的用户，才能访问EnOS
- 在黑名单模式下，黑名单上的IP或IP段内的用户，无法访问EnOS

## 配置Session有效期


### 操作步骤

1. 选择 **访问控制 > 安全设置**，点击 **编辑安全设置**
   
2. 在 **Session过期时间设置** 下设置Session过期时间，范围是15到1440分钟。

### 结果

用户的登录请求超过设置的时间后，会话过期，用户需要再次登录EnOS。
